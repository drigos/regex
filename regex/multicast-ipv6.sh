#!/bin/bash

HEXADECATETO="[0-9a-fA-F]{1,4}"
FIRST_HEXADECATETO="FF[0-9a-fA-F]{2}"

MULTICAST_IPV6="("
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){7}|"                        # TEST: FF00:2:3:4:5:6:7:8
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){0,6}::|"                    # TEST: FF00::              FF00:2:3:4:5:6:7::
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){0,5}::${HEXADECATETO}|"     # TEST: FF00::8             FF00:2:3:4:5:6::8
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){0,4}:(:${HEXADECATETO}){2}|"  # TEST: FF00::7:8           FF00:2:3:4:5::7:8
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){0,3}:(:${HEXADECATETO}){3}|"  # TEST: FF00::6:7:8         FF00:2:3:4::6:7:8
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){0,2}:(:${HEXADECATETO}){4}|"  # TEST: FF00::5:6:7:8       FF00:2:3::5:6:7:8
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}(:${HEXADECATETO}){0,1}:(:${HEXADECATETO}){5}|"  # TEST: FF00::4:5:6:7:8     FF00:2::4:5:6:7:8
MULTICAST_IPV6="${MULTICAST_IPV6}${FIRST_HEXADECATETO}:(:${HEXADECATETO}){6}"                        # TEST: FF00::3:4:5:6:7:8   FF00::3:4:5:6:7:8
MULTICAST_IPV6="${MULTICAST_IPV6})"

RE=${MULTICAST_IPV6}

# Forma didatica da expressão

#                                                                                  Mínimo           Máximo
# MULTICAST_IPV6="           ("
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){7}                              |"  # TEST: FF00:2:3:4:5:6:7:8
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){0,6} ::                         |"  # TEST: FF00::              FF00:2:3:4:5:6:7::
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){0,5} :: ${HEXADECATETO}         |"  # TEST: FF00::8             FF00:2:3:4:5:6::8
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){0,4} :(:${HEXADECATETO}){2}      |"  # TEST: FF00::7:8           FF00:2:3:4:5::7:8
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){0,3} :(:${HEXADECATETO}){3}      |"  # TEST: FF00::6:7:8         FF00:2:3:4::6:7:8
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){0,2} :(:${HEXADECATETO}){4}      |"  # TEST: FF00::5:6:7:8       FF00:2:3::5:6:7:8
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO} (:${HEXADECATETO}){0,1} :(:${HEXADECATETO}){5}      |"  # TEST: FF00::4:5:6:7:8     FF00:2::4:5:6:7:8
# MULTICAST_IPV6="${MULTICAST_IPV6} ${FIRST_HEXADECATETO}                         :(:${HEXADECATETO}){6}     |"  # TEST: FF00::3:4:5:6:7:8   FF00::3:4:5:6:7:8
# MULTICAST_IPV6="${MULTICAST_IPV6} )"
